//-----------------------------------------------------------------------------
#include "SoRefObject.h"
//-----------------------------------------------------------------------------
namespace GGUI
{
	//-----------------------------------------------------------------------------
	int SoRefObject::ms_nTotalObjectCount = 0;
	//-----------------------------------------------------------------------------
	SoRefObject::SoRefObject()
	:m_nRefCount(0)
	{
		++ms_nTotalObjectCount;
	}
	//-----------------------------------------------------------------------------
	SoRefObject::~SoRefObject()
	{
		--ms_nTotalObjectCount;
	}
	//-----------------------------------------------------------------------------
	void SoRefObject::IncRefCount()
	{
		++m_nRefCount;
	}
	//-----------------------------------------------------------------------------
	void SoRefObject::DecRefCount()
	{
		--m_nRefCount;
		if (m_nRefCount <= 0)
		{
			DeleteThis();
		}
	}
	//-----------------------------------------------------------------------------
	int SoRefObject::GetRefCount() const
	{
		return m_nRefCount;
	}
	//-----------------------------------------------------------------------------
	int SoRefObject::GetTotalObjectCount()
	{
		return ms_nTotalObjectCount;
	}
	//-----------------------------------------------------------------------------
	void SoRefObject::DeleteThis()
	{
		delete this;
	}
}
//-----------------------------------------------------------------------------
